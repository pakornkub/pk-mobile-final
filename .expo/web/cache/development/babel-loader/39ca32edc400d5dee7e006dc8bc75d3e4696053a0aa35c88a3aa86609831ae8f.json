{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\naxios.interceptors.request.use(function () {\n  var _ref = _asyncToGenerator(function* (config) {\n    var token = yield AsyncStorage.getItem(\"accessToken\");\n    config.timeout = 1000 * 10;\n    config.url = \"http://119.59.105.14/pk-rest-server\" + config.url;\n    if (token) {\n      config.headers = {\n        'Authorization': JSON.parse(token || \"{}\")\n      };\n    }\n    return config;\n  });\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(), function (error) {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response && error.response.status === 401) {\n    return;\n  }\n  return Promise.reject(error);\n});\nexport var httpClient = axios;","map":{"version":3,"names":["axios","AsyncStorage","interceptors","request","use","_ref","_asyncToGenerator","config","token","getItem","timeout","url","headers","JSON","parse","_x","apply","arguments","error","Promise","reject","response","status","httpClient"],"sources":["D:/_Dev/expo/pk-mobile/src/services/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage'\r\nimport { REACT_APP_API_URL } from '@env';\r\n\r\n// Add a request interceptor\r\naxios.interceptors.request.use(async (config) => {\r\n\r\n    // Do something before request is sent\r\n\r\n    const token = await AsyncStorage.getItem(\"accessToken\");\r\n\r\n    //config.url = `${'http://172.30.22.161/pk-rest-server'}${config.url}`;\r\n    config.timeout = 1000 * 10\r\n    config.url = `${REACT_APP_API_URL}${config.url}`;\r\n    //config.headers = { 'Content-Type': 'multipart/form-data' }\r\n    \r\n    if (token) {\r\n        config.headers = { /* ...config.headers, */ 'Authorization': JSON.parse(token || \"{}\") }\r\n    }\r\n\r\n    return config;\r\n\r\n}, (error) => {\r\n\r\n    // Do something with request error\r\n\r\n    return Promise.reject(error);\r\n});\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use((response) => {\r\n\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n\r\n    return response;\r\n\r\n}, function (error) {\r\n\r\n    if (error.response && error.response.status === 401) {\r\n\r\n        return\r\n    }\r\n\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport const httpClient = axios\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,2CAA2C;AAIpED,KAAK,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAC,WAAOC,MAAM,EAAK;IAI7C,IAAMC,KAAK,SAASP,YAAY,CAACQ,OAAO,CAAC,aAAa,CAAC;IAGvDF,MAAM,CAACG,OAAO,GAAG,IAAI,GAAG,EAAE;IAC1BH,MAAM,CAACI,GAAG,2CAA0BJ,MAAM,CAACI,GAAK;IAGhD,IAAIH,KAAK,EAAE;MACPD,MAAM,CAACK,OAAO,GAAG;QAA2B,eAAe,EAAEC,IAAI,CAACC,KAAK,CAACN,KAAK,IAAI,IAAI;MAAE,CAAC;IAC5F;IAEA,OAAOD,MAAM;EAEjB,CAAC;EAAA,iBAAAQ,EAAA;IAAA,OAAAV,IAAA,CAAAW,KAAA,OAAAC,SAAA;EAAA;AAAA,KAAE,UAACC,KAAK,EAAK;EAIV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAGFlB,KAAK,CAACE,YAAY,CAACmB,QAAQ,CAACjB,GAAG,CAAC,UAACiB,QAAQ,EAAK;EAK1C,OAAOA,QAAQ;AAEnB,CAAC,EAAE,UAAUH,KAAK,EAAE;EAEhB,IAAIA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IAEjD;EACJ;EAEA,OAAOH,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,OAAO,IAAMK,UAAU,GAAGvB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}