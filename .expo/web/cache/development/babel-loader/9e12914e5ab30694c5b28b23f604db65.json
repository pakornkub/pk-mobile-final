{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { FormControl, VStack, Input, Icon, Button, Text } from \"native-base\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { useAuthLogin } from \"../../hooks/useLogin\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useAuthLogin = useAuthLogin(),\n      isLoading = _useAuthLogin.isLoading,\n      isError = _useAuthLogin.isError,\n      error = _useAuthLogin.error,\n      status = _useAuthLogin.status,\n      mutate = _useAuthLogin.mutate;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState({\n    username: \"pakorn.wo\",\n    password: \"1234\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      form = _useState4[0],\n      setForm = _useState4[1];\n\n  var handleChange = function handleChange(text, name) {\n    setForm(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, name, text)));\n  };\n\n  var handleSubmit = function handleSubmit() {\n    mutate(form);\n  };\n\n  useEffect(function () {\n    if (status === \"success\") {\n      navigation.navigate(\"Menu\");\n    } else if (status === \"error\") {\n      console.log(status);\n    }\n\n    return function () {};\n  }, [status]);\n  return _jsx(FormControl, {\n    isRequired: true,\n    isInvalid: true,\n    children: _jsxs(VStack, {\n      space: 5,\n      p: 10,\n      children: [_jsx(Input, {\n        InputLeftElement: _jsx(Icon, {\n          as: _jsx(MaterialIcons, {\n            name: \"person\"\n          }),\n          size: \"md\",\n          m: 2\n        }),\n        variant: \"underlined\",\n        p: 2,\n        placeholder: \"Username\",\n        value: form.username,\n        onChangeText: function onChangeText(text) {\n          return handleChange(text, \"username\");\n        }\n      }), _jsx(FormControl.ErrorMessage, {\n        display: \"none\",\n        children: \"Something is wrong.\"\n      }), _jsx(Input, {\n        InputLeftElement: _jsx(Icon, {\n          as: _jsx(MaterialIcons, {\n            name: \"lock\"\n          }),\n          size: \"md\",\n          m: 2\n        }),\n        variant: \"underlined\",\n        p: 2,\n        type: show ? \"text\" : \"password\",\n        placeholder: \"Password\",\n        InputRightElement: _jsx(Icon, {\n          as: _jsx(MaterialIcons, {\n            name: show ? \"visibility\" : \"visibility-off\",\n            onPress: function onPress() {\n              return setShow(!show);\n            }\n          })\n        }),\n        value: form.password,\n        onChangeText: function onChangeText(text) {\n          return handleChange(text, \"password\");\n        }\n      }), _jsx(FormControl.ErrorMessage, {\n        display: \"none\",\n        children: \"Something is wrong.\"\n      }), _jsx(Button, {\n        leftIcon: _jsx(Icon, {\n          as: _jsx(MaterialIcons, {\n            name: \"login\"\n          }),\n          size: \"sm\"\n        }),\n        onPress: handleSubmit,\n        children: \"SIGN IN\"\n      }), _jsx(Text, {\n        children: \"V 1.0\"\n      })]\n    })\n  });\n};\n\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","FormControl","VStack","Input","Icon","Button","Text","MaterialIcons","useAuthLogin","Login","navigation","isLoading","isError","error","status","mutate","show","setShow","username","password","form","setForm","handleChange","text","name","handleSubmit","navigate","console","log"],"sources":["D:/Dev/pk-mobile/src/views/Login/Login.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FormControl, VStack, Input, Icon, Button, Text } from \"native-base\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\n\r\nimport { useAuthLogin } from \"../../hooks/useLogin\";\r\n\r\nimport { IAuthLoginParams } from \"../../types/views/Login\";\r\n\r\nimport Logo from \"../../assets/toto.svg\";\r\n\r\nconst Login: React.FC<any> = ({ navigation }) => {\r\n  const { isLoading, isError, error, status, mutate } = useAuthLogin();\r\n  const [show, setShow] = useState<boolean>(false);\r\n  const [form, setForm] = useState<IAuthLoginParams>({\r\n    username: \"pakorn.wo\",\r\n    password: \"1234\",\r\n  });\r\n\r\n  const handleChange = (text: string, name: string) => {\r\n    setForm({ ...form, [name]: text });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    mutate(form);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      navigation.navigate(\"Menu\");\r\n    } else if (status === \"error\") {\r\n      console.log(status);\r\n    }\r\n\r\n    return () => {};\r\n  }, [status]);\r\n\r\n  return (\r\n    <FormControl isRequired isInvalid>\r\n      <VStack space={5} p={10}>\r\n        {/* <Logo width={120} height={40} /> */}\r\n        <Input\r\n          InputLeftElement={\r\n            <Icon as={<MaterialIcons name=\"person\" />} size=\"md\" m={2} />\r\n          }\r\n          variant=\"underlined\"\r\n          p={2}\r\n          placeholder=\"Username\"\r\n          value={form.username}\r\n          onChangeText={(text) => handleChange(text, \"username\")}\r\n        />\r\n        <FormControl.ErrorMessage display=\"none\">\r\n          Something is wrong.\r\n        </FormControl.ErrorMessage>\r\n        <Input\r\n          InputLeftElement={\r\n            <Icon as={<MaterialIcons name=\"lock\" />} size=\"md\" m={2} />\r\n          }\r\n          variant=\"underlined\"\r\n          p={2}\r\n          type={show ? \"text\" : \"password\"}\r\n          placeholder=\"Password\"\r\n          InputRightElement={\r\n            <Icon\r\n              as={\r\n                <MaterialIcons\r\n                  name={show ? \"visibility\" : \"visibility-off\"}\r\n                  onPress={() => setShow(!show)}\r\n                />\r\n              }\r\n            />\r\n          }\r\n          value={form.password}\r\n          onChangeText={(text) => handleChange(text, \"password\")}\r\n        />\r\n        <FormControl.ErrorMessage display=\"none\">\r\n          Something is wrong.\r\n        </FormControl.ErrorMessage>\r\n        <Button\r\n          leftIcon={<Icon as={<MaterialIcons name=\"login\" />} size=\"sm\" />}\r\n          onPress={handleSubmit}\r\n        >\r\n          SIGN IN\r\n        </Button>\r\n        <Text>V 1.0</Text>\r\n      </VStack>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}