{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport { Icon, Button, Text, View, Pressable } from \"native-base\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AppScanner = function AppScanner(_ref) {\n  var handleScanner = _ref.handleScanner;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasPermission = _useState2[0],\n    setHasPermission = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scanned = _useState4[0],\n    setScanned = _useState4[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$BarCodeScanner = yield BarCodeScanner.requestPermissionsAsync(),\n        status = _yield$BarCodeScanner.status;\n      setHasPermission(status === \"granted\");\n    })();\n  }, []);\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref3) {\n    var type = _ref3.type,\n      data = _ref3.data;\n    setScanned(true);\n    handleScanner(data);\n  };\n  if (hasPermission === null) {\n    return _jsx(Text, {\n      children: \"Requesting for camera permission\"\n    });\n  }\n  if (hasPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to camera\"\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(BarCodeScanner, {\n      onBarCodeScanned: scanned ? undefined : handleBarCodeScanned,\n      style: StyleSheet.absoluteFillObject\n    }), scanned && _jsx(Button, {\n      title: \"Tap to Scan Again\",\n      onPress: function onPress() {\n        return setScanned(false);\n      }\n    }), _jsx(Pressable, {\n      onPress: function onPress() {\n        return handleScanner(null);\n      },\n      children: function children(_ref4) {\n        var isHovered = _ref4.isHovered,\n          isPressed = _ref4.isPressed;\n        return _jsx(Icon, {\n          mt: 1,\n          mb: 5,\n          as: _jsx(MaterialIcons, {\n            name: \"cancel\"\n          }),\n          size: \"6xl\",\n          color: isPressed ? \"danger.700\" : isHovered ? \"danger.700\" : \"danger.500\",\n          style: {\n            marginTop: scanned ? \"70%\" : \"120%\",\n            alignSelf: \"center\",\n            transform: [{\n              scale: isPressed ? 0.96 : 1\n            }]\n          }\n        });\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  }\n});\nexport default AppScanner;","map":{"version":3,"names":["React","useState","useEffect","Icon","Button","Text","View","Pressable","StyleSheet","BarCodeScanner","MaterialIcons","jsx","_jsx","jsxs","_jsxs","AppScanner","_ref","handleScanner","_useState","_useState2","_slicedToArray","hasPermission","setHasPermission","_useState3","_useState4","scanned","setScanned","_asyncToGenerator","_yield$BarCodeScanner","requestPermissionsAsync","status","handleBarCodeScanned","_ref3","type","data","children","style","styles","container","onBarCodeScanned","undefined","absoluteFillObject","title","onPress","_ref4","isHovered","isPressed","mt","mb","as","name","size","color","marginTop","alignSelf","transform","scale","create","flex","flexDirection","justifyContent"],"sources":["D:/_Dev/expo/pk-mobile/src/components/AppScanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Icon, Button, Text, View, Pressable } from \"native-base\";\r\nimport { StyleSheet } from \"react-native\";\r\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\n\r\nconst AppScanner: React.FC<any> = ({ handleScanner }) => {\r\n  const [hasPermission, setHasPermission] = useState<boolean>(false);\r\n  const [scanned, setScanned] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n      setHasPermission(status === \"granted\");\r\n    })();\r\n  }, []);\r\n\r\n  const handleBarCodeScanned = ({ type, data }: any) => {\r\n    setScanned(true);\r\n    handleScanner(data);\r\n    //alert(`Bar code with type ${type} and data ${data} has been scanned!`);\r\n  };\r\n\r\n  if (hasPermission === null) {\r\n    return <Text>Requesting for camera permission</Text>;\r\n  }\r\n  if (hasPermission === false) {\r\n    return <Text>No access to camera</Text>;\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <BarCodeScanner\r\n        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\r\n        style={StyleSheet.absoluteFillObject}\r\n      />\r\n      {scanned && (\r\n        <Button title={\"Tap to Scan Again\"} onPress={() => setScanned(false)} />\r\n      )}\r\n      <Pressable onPress={() => handleScanner(null)}>\r\n        {({ isHovered, isPressed }) => {\r\n          return (\r\n            <Icon\r\n              mt={1}\r\n              mb={5}\r\n              as={<MaterialIcons name=\"cancel\" />}\r\n              size=\"6xl\"\r\n              color={\r\n                isPressed\r\n                  ? \"danger.700\"\r\n                  : isHovered\r\n                  ? \"danger.700\"\r\n                  : \"danger.500\"\r\n              }\r\n              style={{\r\n                marginTop: scanned ? \"70%\" : \"120%\",\r\n                alignSelf: \"center\",\r\n                transform: [\r\n                  {\r\n                    scale: isPressed ? 0.96 : 1,\r\n                  },\r\n                ],\r\n              }}\r\n            />\r\n          );\r\n        }}\r\n      </Pressable>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\nexport default AppScanner;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}